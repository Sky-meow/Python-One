#encoding:utf-8
'''
品类后台管理
'''
import xadmin
from xadmin import views
from .models import *

class MatTypelInline(object):
    '''
    嵌入类别管理中的商品管理
    '''
    model = MatType
    extra = 0
    exclude = ['created_by', 'updated_by']
    style = 'accordion' 
    #template = 'xadmin/edit_inline/list_inline.html'
    

class MatTypeAdmin(object):
    list_display = ['code', 'name', 'remark', 'enable', 'parent', 'created_at', 'created_by', 'updated_at', 'updated_by']
    search_fields = ['code', 'name', 'enable', 'parent__code']
    list_filter = ['code', 'name', 'enable']
    list_editable = ['enable']
    #style_fields = {"remark": "ueditor"}
    model_icon = 'fa fa-shopping-basket'
    inlines = [MatTypelInline]

xadmin.site.register(MatType, MatTypeAdmin)

class MaterialAdmin(object):
    list_display = ['mattype', 'name', 'price', 'description', 'image', 'enable', 'remark', 'created_at', 'created_by', 'updated_at', 'updated_by']
    search_fields = ['mattype__name', 'name', 'enable',]
    list_filter = ['mattype', 'name', 'enable']
    list_editable = ['enable']
    style_fields = {"description": "ueditor"}
    model_icon = 'fa fa-apple'

xadmin.site.register(Material, MaterialAdmin)